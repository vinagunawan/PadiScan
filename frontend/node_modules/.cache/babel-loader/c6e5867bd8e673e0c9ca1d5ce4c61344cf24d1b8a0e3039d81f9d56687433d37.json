{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\62851\\\\OneDrive\\\\Dokumen\\\\TUGAS SEMESTER 7\\\\Proyek Integrasi Sistem\\\\frontend\\\\src\\\\components\\\\Diagnosis.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Webcam from 'react-webcam';\nimport { Box, Button, Typography, Card, CardContent, Input } from '@mui/material';\nimport NavBarDashboard from './NavBarDashboard'; // Navbar yang digunakan sebelumnya\nimport { useNavigate } from 'react-router-dom'; // Mengimpor useNavigate untuk navigasi\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Diagnosis() {\n  _s();\n  const [isCameraOpen, setIsCameraOpen] = useState(false); // Untuk membuka/menutup kamera\n  const [image, setImage] = useState(null); // Menyimpan gambar yang dipilih/tangkap\n  const [file, setFile] = useState(null); // Menyimpan file gambar yang diunggah\n  const webcamRef = React.useRef(null);\n  const navigate = useNavigate(); // Hook untuk navigasi\n\n  // Fungsi untuk menangkap foto dari kamera\n  const capturePhoto = () => {\n    const photo = webcamRef.current.getScreenshot();\n    setImage(photo);\n    setIsCameraOpen(false); // Menutup kamera setelah foto diambil\n  };\n\n  // Fungsi untuk menangani unggahan gambar dari file\n  const handleFileChange = event => {\n    const file = event.target.files[0]; // Mengambil file gambar yang dipilih\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setFile(reader.result); // Menyimpan gambar ke state\n      setImage(reader.result); // Menampilkan gambar yang diunggah\n    };\n    if (file) {\n      reader.readAsDataURL(file); // Membaca file gambar sebagai URL data\n    }\n  };\n\n  // Fungsi untuk menavigasi ke halaman hasil diagnosis setelah foto diunggah\n  const handleSubmit = () => {\n    if (!image) {\n      alert('Mohon unggah atau ambil foto terlebih dahulu!');\n      return;\n    }\n\n    // Menavigasi ke halaman hasil diagnosis setelah foto diunggah\n    navigate('/hasilDiagnosis', {\n      state: {\n        image\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-utama\",\n    children: [/*#__PURE__*/_jsxDEV(NavBarDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"text-white text-center py-5\",\n      style: {\n        backgroundImage: \"url('/images/home-1.jpg')\",\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"display-4 fw-bold\",\n          children: \"Halaman Diagnosis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"lead fw-bold\",\n          children: \"Unggah atau ambil foto untuk mendapatkan diagnosis tanaman padi Anda.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        minHeight: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          maxWidth: 500,\n          width: '100%',\n          minHeight: 500,\n          padding: 2,\n          borderRadius: '8px'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [image ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image,\n            alt: \"Captured or Uploaded\",\n            style: {\n              width: '100%',\n              height: 'auto',\n              borderRadius: '8px',\n              marginBottom: '16px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this) : isCameraOpen ? /*#__PURE__*/_jsxDEV(Webcam, {\n            ref: webcamRef,\n            screenshotFormat: \"image/jpeg\",\n            style: {\n              width: '100%',\n              height: 'auto',\n              borderRadius: '8px',\n              marginBottom: '16px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              mb: 2\n            },\n            children: \"Unggah atau tangkap foto untuk diagnosis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this), !isCameraOpen && !image && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => setIsCameraOpen(true),\n            sx: {\n              width: '100%',\n              marginBottom: 2\n            },\n            children: \"Buka Kamera\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"file\",\n            onChange: handleFileChange,\n            inputProps: {\n              accept: 'image/*'\n            },\n            sx: {\n              display: 'block',\n              marginBottom: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSubmit,\n            sx: {\n              width: '100%'\n            },\n            children: \"Kirim Foto untuk Diagnosis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Diagnosis, \"+rfV6xTvhdr6U5zzG7rJJixrRlg=\", false, function () {\n  return [useNavigate];\n});\n_c = Diagnosis;\nexport default Diagnosis;\nvar _c;\n$RefreshReg$(_c, \"Diagnosis\");","map":{"version":3,"names":["React","useState","Webcam","Box","Button","Typography","Card","CardContent","Input","NavBarDashboard","useNavigate","jsxDEV","_jsxDEV","Diagnosis","_s","isCameraOpen","setIsCameraOpen","image","setImage","file","setFile","webcamRef","useRef","navigate","capturePhoto","photo","current","getScreenshot","handleFileChange","event","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSubmit","alert","state","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","sx","minHeight","display","flexDirection","justifyContent","alignItems","padding","maxWidth","width","borderRadius","src","alt","height","marginBottom","ref","screenshotFormat","variant","mb","onClick","type","onChange","inputProps","accept","color","_c","$RefreshReg$"],"sources":["C:/Users/62851/OneDrive/Dokumen/TUGAS SEMESTER 7/Proyek Integrasi Sistem/frontend/src/components/Diagnosis.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Webcam from 'react-webcam';\r\nimport { Box, Button, Typography, Card, CardContent, Input } from '@mui/material';\r\nimport NavBarDashboard from './NavBarDashboard'; // Navbar yang digunakan sebelumnya\r\nimport { useNavigate } from 'react-router-dom'; // Mengimpor useNavigate untuk navigasi\r\n\r\nfunction Diagnosis() {\r\n  const [isCameraOpen, setIsCameraOpen] = useState(false); // Untuk membuka/menutup kamera\r\n  const [image, setImage] = useState(null); // Menyimpan gambar yang dipilih/tangkap\r\n  const [file, setFile] = useState(null); // Menyimpan file gambar yang diunggah\r\n  const webcamRef = React.useRef(null);\r\n  const navigate = useNavigate(); // Hook untuk navigasi\r\n\r\n  // Fungsi untuk menangkap foto dari kamera\r\n  const capturePhoto = () => {\r\n    const photo = webcamRef.current.getScreenshot();\r\n    setImage(photo);\r\n    setIsCameraOpen(false); // Menutup kamera setelah foto diambil\r\n  };\r\n\r\n  // Fungsi untuk menangani unggahan gambar dari file\r\n  const handleFileChange = (event) => {\r\n    const file = event.target.files[0]; // Mengambil file gambar yang dipilih\r\n    const reader = new FileReader();\r\n\r\n    reader.onloadend = () => {\r\n      setFile(reader.result); // Menyimpan gambar ke state\r\n      setImage(reader.result); // Menampilkan gambar yang diunggah\r\n    };\r\n    if (file) {\r\n      reader.readAsDataURL(file); // Membaca file gambar sebagai URL data\r\n    }\r\n  };\r\n\r\n  // Fungsi untuk menavigasi ke halaman hasil diagnosis setelah foto diunggah\r\n  const handleSubmit = () => {\r\n    if (!image) {\r\n      alert('Mohon unggah atau ambil foto terlebih dahulu!');\r\n      return;\r\n    }\r\n    \r\n    // Menavigasi ke halaman hasil diagnosis setelah foto diunggah\r\n    navigate('/hasilDiagnosis', { state: { image } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-utama\">\r\n      {/* Navbar */}\r\n      <NavBarDashboard />\r\n\r\n      {/* Header */}\r\n      <header\r\n        className=\"text-white text-center py-5\"\r\n        style={{\r\n          backgroundImage: \"url('/images/home-1.jpg')\",\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          backgroundRepeat: 'no-repeat',\r\n        }}\r\n      >\r\n        <div className=\"container\">\r\n          <h1 className=\"display-4 fw-bold\">Halaman Diagnosis</h1>\r\n          <p className=\"lead fw-bold\">Unggah atau ambil foto untuk mendapatkan diagnosis tanaman padi Anda.</p>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Card untuk Diagnosis */}\r\n      <Box\r\n        sx={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          padding: 2,\r\n        }}\r\n      >\r\n        <Card\r\n          sx={{\r\n            maxWidth: 500,\r\n            width: '100%',\r\n            minHeight: 500,\r\n            padding: 2,\r\n            borderRadius: '8px',\r\n          }}\r\n        >\r\n          <CardContent>\r\n            {image ? (\r\n              <img\r\n                src={image}\r\n                alt=\"Captured or Uploaded\"\r\n                style={{\r\n                  width: '100%',\r\n                  height: 'auto',\r\n                  borderRadius: '8px',\r\n                  marginBottom: '16px',\r\n                }}\r\n              />\r\n            ) : isCameraOpen ? (\r\n              <Webcam\r\n                ref={webcamRef}\r\n                screenshotFormat=\"image/jpeg\"\r\n                style={{\r\n                  width: '100%',\r\n                  height: 'auto',\r\n                  borderRadius: '8px',\r\n                  marginBottom: '16px',\r\n                }}\r\n              />\r\n            ) : (\r\n              <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                Unggah atau tangkap foto untuk diagnosis\r\n              </Typography>\r\n            )}\r\n\r\n            {/* Tombol untuk membuka kamera */}\r\n            {!isCameraOpen && !image && (\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={() => setIsCameraOpen(true)}\r\n                sx={{ width: '100%', marginBottom: 2 }}\r\n              >\r\n                Buka Kamera\r\n              </Button>\r\n            )}\r\n\r\n            {/* Tombol untuk unggah gambar */}\r\n            <Input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              inputProps={{ accept: 'image/*' }}\r\n              sx={{ display: 'block', marginBottom: 2 }}\r\n            />\r\n\r\n            {/* Tombol untuk mengirim gambar */}\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleSubmit}\r\n              sx={{ width: '100%' }}\r\n            >\r\n              Kirim Foto untuk Diagnosis\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Diagnosis;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}